<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get and set substrings using their positions — str_sub • stringr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get and set substrings using their positions — str_sub"><meta name="description" content="str_sub() extracts or replaces the elements at a single position in each
string. str_sub_all() allows you to extract strings at multiple elements
in every string."><meta property="og:description" content="str_sub() extracts or replaces the elements at a single position in each
string. str_sub_all() allows you to extract strings at multiple elements
in every string."><meta property="og:image" content="https://stringr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="stringr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stringr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.5.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/stringr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/from-base.html">From base R</a></li>
    <li><a class="dropdown-item" href="../articles/regular-expressions.html">Regular expressions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/12/stringr-1-5-0/">Version 1.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/stringr-1-4-0/">Version 1.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/02/stringr-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2017/04/12/tidyverse-updates/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2016/08/24/stringr-1-1-0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2015/05/05/stringr-1-0-0/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/stringr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get and set substrings using their positions</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/stringr/blob/main/R/sub.R" class="external-link"><code>R/sub.R</code></a></small>
      <div class="d-none name"><code>str_sub.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>str_sub()</code> extracts or replaces the elements at a single position in each
string. <code>str_sub_all()</code> allows you to extract strings at multiple elements
in every string.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">string</span>, start <span class="op">=</span> <span class="fl">1L</span>, end <span class="op">=</span> <span class="op">-</span><span class="fl">1L</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">str_sub</span><span class="op">(</span><span class="va">string</span>, start <span class="op">=</span> <span class="fl">1L</span>, end <span class="op">=</span> <span class="op">-</span><span class="fl">1L</span>, omit_na <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="fu">str_sub_all</span><span class="op">(</span><span class="va">string</span>, start <span class="op">=</span> <span class="fl">1L</span>, end <span class="op">=</span> <span class="op">-</span><span class="fl">1L</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-string">string<a class="anchor" aria-label="anchor" href="#arg-string"></a></dt>
<dd><p>Input vector. Either a character vector, or something
coercible to one.</p></dd>


<dt id="arg-start-end">start, end<a class="anchor" aria-label="anchor" href="#arg-start-end"></a></dt>
<dd><p>A pair of integer vectors defining the range of characters
to extract (inclusive). Positive values count from the left of the string,
and negative values count from the right. In other words, if <code>string</code> is
<code>"abcdef"</code> then 1 refers to <code>"a"</code> and -1 refers to <code>"f"</code>.</p>
<p>Alternatively, instead of a pair of vectors, you can pass a matrix to
<code>start</code>. The matrix should have two columns, either labelled <code>start</code>
and <code>end</code>, or <code>start</code> and <code>length</code>. This makes <code>str_sub()</code> work directly
with the output from <code><a href="str_locate.html">str_locate()</a></code> and friends.</p></dd>


<dt id="arg-omit-na">omit_na<a class="anchor" aria-label="anchor" href="#arg-omit-na"></a></dt>
<dd><p>Single logical value. If <code>TRUE</code>, missing values in any of the
arguments provided will result in an unchanged input.</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>Replacement string.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<ul><li><p><code>str_sub()</code>: A character vector the same length as <code>string</code>/<code>start</code>/<code>end</code>.</p></li>
<li><p><code>str_sub_all()</code>: A list the same length as <code>string</code>. Each element is
a character vector the same length as <code>start</code>/<code>end</code>.</p></li>
</ul><p>If <code>end</code> comes before <code>start</code> or <code>start</code> is outside the range of <code>string</code>
then the corresponding output will be the empty string.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>The underlying implementation in <code><a href="https://rdrr.io/pkg/stringi/man/stri_sub.html" class="external-link">stringi::stri_sub()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">hw</span> <span class="op">&lt;-</span> <span class="st">"Hadley Wickham"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, <span class="fl">1</span>, <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hadley"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, end <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hadley"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, <span class="fl">8</span>, <span class="fl">14</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Wickham"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, <span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Wickham"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Negative values index from end of string</span></span></span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "m"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, <span class="op">-</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Wickham"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, end <span class="op">=</span> <span class="op">-</span><span class="fl">7</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hadley W"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># str_sub() is vectorised by both string and position</span></span></span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">8</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">14</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Hadley"  "Wickham"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if you want to extract multiple positions from multiple strings,</span></span></span>
<span class="r-in"><span><span class="co"># use str_sub_all()</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"abcde"</span>, <span class="st">"ghifgh"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ab"  "hif"</span>
<span class="r-in"><span><span class="fu">str_sub_all</span><span class="op">(</span><span class="va">x</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ab"  "bcd"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "gh"  "hif"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Alternatively, you can pass in a two column matrix, as in the</span></span></span>
<span class="r-in"><span><span class="co"># output from str_locate_all</span></span></span>
<span class="r-in"><span><span class="va">pos</span> <span class="op">&lt;-</span> <span class="fu"><a href="str_locate.html">str_locate_all</a></span><span class="op">(</span><span class="va">hw</span>, <span class="st">"[aeio]"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">pos</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      start end</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]     2   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]     5   5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]     9   9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    13  13</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">hw</span>, <span class="va">pos</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "a" "e" "i" "a"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can also use `str_sub()` to modify strings:</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"BBCDEF"</span></span></span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"A"</span>; <span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ABCDEF"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">x</span>, <span class="op">-</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"K"</span>; <span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ABCDEK"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">x</span>, <span class="op">-</span><span class="fl">2</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"GHIJ"</span>; <span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "ABCDGHIJK"</span>
<span class="r-in"><span><span class="fu">str_sub</span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">""</span>; <span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "AK"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

