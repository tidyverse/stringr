<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>String interpolation — str_interp • stringr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="String interpolation — str_interp"><meta name="description" content="
str_interp() is superseded in favour of str_glue().
String interpolation is a useful way of specifying a character string which
depends on values in a certain environment. It allows for string creation
which is easier to read and write when compared to using e.g.
paste() or sprintf(). The (template) string can
include expression placeholders of the form ${expression} or
$[format]{expression}, where expressions are valid R expressions that
can be evaluated in the given environment, and format is a format
specification valid for use with sprintf()."><meta property="og:description" content="
str_interp() is superseded in favour of str_glue().
String interpolation is a useful way of specifying a character string which
depends on values in a certain environment. It allows for string creation
which is easier to read and write when compared to using e.g.
paste() or sprintf(). The (template) string can
include expression placeholders of the form ${expression} or
$[format]{expression}, where expressions are valid R expressions that
can be evaluated in the given environment, and format is a format
specification valid for use with sprintf()."><meta property="og:image" content="https://stringr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="stringr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stringr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.5.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/stringr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/from-base.html">From base R</a></li>
    <li><a class="dropdown-item" href="../articles/regular-expressions.html">Regular expressions</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/12/stringr-1-5-0/">Version 1.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/stringr-1-4-0/">Version 1.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/02/stringr-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2017/04/12/tidyverse-updates/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2016/08/24/stringr-1-1-0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2015/05/05/stringr-1-0-0/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/stringr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>String interpolation</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/stringr/blob/main/R/interp.R" class="external-link"><code>R/interp.R</code></a></small>
      <div class="d-none name"><code>str_interp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded" class="external-link"><img src="figures/lifecycle-superseded.svg" alt="[Superseded]"></a></p>
<p><code>str_interp()</code> is superseded in favour of <code><a href="str_glue.html">str_glue()</a></code>.</p>
<p>String interpolation is a useful way of specifying a character string which
depends on values in a certain environment. It allows for string creation
which is easier to read and write when compared to using e.g.
<code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste()</a></code> or <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code>. The (template) string can
include expression placeholders of the form <code>${expression}</code> or
<code>$[format]{expression}</code>, where expressions are valid R expressions that
can be evaluated in the given environment, and <code>format</code> is a format
specification valid for use with <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">str_interp</span><span class="op">(</span><span class="va">string</span>, env <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-string">string<a class="anchor" aria-label="anchor" href="#arg-string"></a></dt>
<dd><p>A template character string. This function is not vectorised:
a character vector will be collapsed into a single string.</p></dd>


<dt id="arg-env">env<a class="anchor" aria-label="anchor" href="#arg-env"></a></dt>
<dd><p>The environment in which to evaluate the expressions.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An interpolated character string.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="str_glue.html">str_glue()</a></code> and <code><a href="str_glue.html">str_glue_data()</a></code> for alternative approaches to
the same problem.</p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Stefan Milton Bache</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using values from the environment, and some formats</span></span></span>
<span class="r-in"><span><span class="va">user_name</span> <span class="op">&lt;-</span> <span class="st">"smbache"</span></span></span>
<span class="r-in"><span><span class="va">amount</span> <span class="op">&lt;-</span> <span class="fl">6.656</span></span></span>
<span class="r-in"><span><span class="va">account</span> <span class="op">&lt;-</span> <span class="fl">1337</span></span></span>
<span class="r-in"><span><span class="fu">str_interp</span><span class="op">(</span><span class="st">"User ${user_name} (account $[08d]{account}) has $$[.2f]{amount}."</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "User smbache (account 00001337) has $6.66."</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Nested brace pairs work inside expressions too, and any braces can be</span></span></span>
<span class="r-in"><span><span class="co"># placed outside the expressions.</span></span></span>
<span class="r-in"><span><span class="fu">str_interp</span><span class="op">(</span><span class="st">"Works with } nested { braces too: $[.2f]{{{2 + 2}*{amount}}}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Works with } nested { braces too: 26.62"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Values can also come from a list</span></span></span>
<span class="r-in"><span><span class="fu">str_interp</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"One value, ${value1}, and then another, ${value2*2}."</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value1 <span class="op">=</span> <span class="fl">10</span>, value2 <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "One value, 10, and then another, 40."</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or a data frame</span></span></span>
<span class="r-in"><span><span class="fu">str_interp</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Values are $[.2f]{max(Sepal.Width)} and $[.2f]{min(Sepal.Width)}."</span>,</span></span>
<span class="r-in"><span>  <span class="va">iris</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Values are 4.40 and 2.00."</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use a vector when the string is long:</span></span></span>
<span class="r-in"><span><span class="va">max_char</span> <span class="op">&lt;-</span> <span class="fl">80</span></span></span>
<span class="r-in"><span><span class="fu">str_interp</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"This particular line is so long that it is hard to write "</span>,</span></span>
<span class="r-in"><span>  <span class="st">"without breaking the ${max_char}-char barrier!"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "This particular line is so long that it is hard to write without breaking the 80-char barrier!"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

