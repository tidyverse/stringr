<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Locale sensitive functions • stringr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Locale sensitive functions">
<meta name="robots" content="noindex">
<script defer data-domain="stringr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stringr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.5.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/stringr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/from-base.html">From base R</a></li>
    <li><a class="dropdown-item" href="../articles/locale-sensitive.html">Locale sensitive functions</a></li>
    <li><a class="dropdown-item" href="../articles/regular-expressions.html">Regular expressions</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/12/stringr-1-5-0/">Version 1.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/stringr-1-4-0/">Version 1.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/02/stringr-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2017/04/12/tidyverse-updates/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2016/08/24/stringr-1-1-0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2015/05/05/stringr-1-0-0/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/stringr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Locale sensitive functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/stringr/blob/main/vignettes/locale-sensitive.Rmd" class="external-link"><code>vignettes/locale-sensitive.Rmd</code></a></small>
      <div class="d-none name"><code>locale-sensitive.Rmd</code></div>
    </div>

    
    
<p>A locale is a set of parameters that define a user’s language,
region, and cultural preferences. It determines language-specific rules
for text processing, including how to:</p>
<ul>
<li>Convert between uppercase and lowercase letters</li>
<li>Sort text alphabetically</li>
<li>Format dates, numbers, and currency</li>
<li>Handle character encoding and display</li>
</ul>
<p>In stringr, you can control the locale using the <code>locale</code>
argument, which takes language codes like “en” (English), “tr”
(Turkish), or “es_MX” (Mexican Spanish). In general, a locale is a
lower-case language abbreviation, optionally followed by an underscore
(_) and an upper-case region identifier. You can see which locales are
supported in stringr by running
<code><a href="https://rdrr.io/pkg/stringi/man/stri_locale_list.html" class="external-link">stringi::stri_locale_list()</a></code>.</p>
<p>This vignette describes locale-sensitive stringr functions,
i.e. functions with a <code>locale</code> argument. These functions fall
into two broad categories:</p>
<ol style="list-style-type: decimal">
<li>Case conversion</li>
<li>Sorting and ordering</li>
</ol>
<div class="section level2">
<h2 id="case-conversion">Case conversion<a class="anchor" aria-label="anchor" href="#case-conversion"></a>
</h2>
<p><code><a href="../reference/case.html">str_to_lower()</a></code>, <code><a href="../reference/case.html">str_to_upper()</a></code>,
<code><a href="../reference/case.html">str_to_title()</a></code>, and <code><a href="../reference/case.html">str_to_sentence()</a></code> all
change the case of their inputs. But while most languages that use the
Latin alphabet (like English) have upper and lower case, the rules for
converting between the two aren’t always the same. For example, Turkish
has two forms of the letter “I”: as well as “i” and “I”, Turkish also
has “ı”, the dotless lowercase i, and “İ” is the dotted uppercase I.
This means the rules for converting i to upper case and I to lower case
are different from English:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># English</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_upper</a></span><span class="op">(</span><span class="st">"i"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "I"</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_lower</a></span><span class="op">(</span><span class="st">"I"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "i"</span></span>
<span></span>
<span><span class="co"># Turkish</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_upper</a></span><span class="op">(</span><span class="st">"i"</span>, locale <span class="op">=</span> <span class="st">"tr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "İ"</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_lower</a></span><span class="op">(</span><span class="st">"I"</span>, locale <span class="op">=</span> <span class="st">"tr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ı"</span></span></code></pre></div>
<p>Another example is Dutch, where “ij” is a digraph treated as a single
letter. This means that <code><a href="../reference/case.html">str_to_sentence()</a></code> will incorrectly
capitalize “ij” at the start of a sentence unless you use a Dutch
locale:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dutch_sentence</span> <span class="op">&lt;-</span> <span class="st">"ijsland is een prachtig land in Noord-Europa."</span></span>
<span></span>
<span><span class="co"># Incorrect</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_sentence</a></span><span class="op">(</span><span class="va">dutch_sentence</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Ijsland is een prachtig land in noord-europa."</span></span>
<span><span class="co"># Correct</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_sentence</a></span><span class="op">(</span><span class="va">dutch_sentence</span>, locale <span class="op">=</span> <span class="st">"nl"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "IJsland is een prachtig land in noord-europa."</span></span></code></pre></div>
<p>Case conversion also comes up in another situation: case-insensitive
comparison. This is relevant in two contexts. First,
<code><a href="../reference/str_equal.html">str_equal()</a></code> and <code><a href="../reference/str_unique.html">str_unique()</a></code> can optionally
ignore case, so it’s important to also supply locale when working with
non-English text. For example, imagine we’re searching for a Turkish
name, ignoring case:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">turkish_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"İpek"</span>, <span class="st">"Işık"</span>, <span class="st">"İbrahim"</span><span class="op">)</span></span>
<span><span class="va">search_name</span> <span class="op">&lt;-</span> <span class="st">"ipek"</span></span>
<span></span>
<span><span class="co"># incorrect</span></span>
<span><span class="fu"><a href="../reference/str_equal.html">str_equal</a></span><span class="op">(</span><span class="va">turkish_names</span>, <span class="va">search_name</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE FALSE</span></span>
<span></span>
<span><span class="co"># correct</span></span>
<span><span class="fu"><a href="../reference/str_equal.html">str_equal</a></span><span class="op">(</span><span class="va">turkish_names</span>, <span class="va">search_name</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span>, locale <span class="op">=</span> <span class="st">"tr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE FALSE</span></span></code></pre></div>
<p>Case conversion also comes up in pattern matching functions like
<code><a href="../reference/str_detect.html">str_detect()</a></code>. You might be accustomed to use
<code>ignore_case = TRUE</code> with <code><a href="../reference/modifiers.html">regex()</a></code> or
<code><a href="../reference/modifiers.html">fixed()</a></code>, but if you want to use locale-sensitive comparison
you instead need to use <code><a href="../reference/modifiers.html">coll()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># incorrect</span></span>
<span><span class="fu"><a href="../reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">turkish_names</span>, <span class="fu"><a href="../reference/modifiers.html">fixed</a></span><span class="op">(</span><span class="va">search_name</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE FALSE FALSE</span></span>
<span></span>
<span><span class="co"># correct</span></span>
<span><span class="fu"><a href="../reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">turkish_names</span>, <span class="fu"><a href="../reference/modifiers.html">coll</a></span><span class="op">(</span><span class="va">search_name</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span>, locale <span class="op">=</span> <span class="st">"tr"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  TRUE FALSE FALSE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sorting-and-ordering">Sorting and ordering<a class="anchor" aria-label="anchor" href="#sorting-and-ordering"></a>
</h2>
<p><code><a href="../reference/str_order.html">str_sort()</a></code>, <code><a href="../reference/str_order.html">str_order()</a></code>, and
<code><a href="../reference/str_order.html">str_rank()</a></code> all rely on the alphabetical ordering of
letters. But not every language uses the same ordering as English. For
example, Lithuanian places ‘y’ between ‘i’ and ‘k’, and Czech treats
“ch” as a single compound letter that sorts after all other words
beginning with ‘h’. This means that to correctly sort words in these
languages, you must provide the appropriate locale:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">czech_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"had"</span>, <span class="st">"chata"</span>, <span class="st">"hrad"</span>, <span class="st">"chůze"</span><span class="op">)</span></span>
<span><span class="va">lithuanian_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ąžuolas"</span>, <span class="st">"ėglė"</span>, <span class="st">"šuo"</span>, <span class="st">"yra"</span>, <span class="st">"žuvis"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># incorrect</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">czech_words</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "chata" "chůze" "had"   "hrad"</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">lithuanian_words</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ąžuolas" "ėglė"    "šuo"     "yra"     "žuvis"</span></span>
<span></span>
<span><span class="co"># correct</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">czech_words</span>, locale <span class="op">=</span> <span class="st">"cs"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "had"   "hrad"  "chata" "chůze"</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">lithuanian_words</span>, locale <span class="op">=</span> <span class="st">"lt"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ąžuolas" "ėglė"    "yra"     "šuo"     "žuvis"</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer>
</body>
</html>
