<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>From base R • stringr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="From base R">
<meta name="robots" content="noindex">
<script defer data-domain="stringr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">stringr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.5.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/stringr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/from-base.html">From base R</a></li>
    <li><a class="dropdown-item" href="../articles/regular-expressions.html">Regular expressions</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/12/stringr-1-5-0/">Version 1.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/stringr-1-4-0/">Version 1.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/02/stringr-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2017/04/12/tidyverse-updates/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2016/08/24/stringr-1-1-0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://blog.rstudio.com/2015/05/05/stringr-1-0-0/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/stringr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>From base R</h1>
                        <h4 data-toc-skip class="author">Sara
Stoudt</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/stringr/blob/main/vignettes/from-base.Rmd" class="external-link"><code>vignettes/from-base.Rmd</code></a></small>
      <div class="d-none name"><code>from-base.Rmd</code></div>
    </div>

    
    
<p>This vignette compares stringr functions to their base R equivalents
to help users transitioning from using base R to stringr.</p>
<div class="section level2">
<h2 id="overall-differences">Overall differences<a class="anchor" aria-label="anchor" href="#overall-differences"></a>
</h2>
<p>We’ll begin with a lookup table between the most important stringr
functions and their base R equivalents.</p>
<div id="mwlefoodfi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mwlefoodfi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mwlefoodfi thead, #mwlefoodfi tbody, #mwlefoodfi tfoot, #mwlefoodfi tr, #mwlefoodfi td, #mwlefoodfi th {
  border-style: none;
}

#mwlefoodfi p {
  margin: 0;
  padding: 0;
}

#mwlefoodfi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mwlefoodfi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mwlefoodfi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mwlefoodfi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mwlefoodfi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mwlefoodfi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mwlefoodfi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mwlefoodfi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mwlefoodfi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mwlefoodfi .gt_spanner_row {
  border-bottom-style: hidden;
}

#mwlefoodfi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mwlefoodfi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mwlefoodfi .gt_from_md > :first-child {
  margin-top: 0;
}

#mwlefoodfi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mwlefoodfi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mwlefoodfi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mwlefoodfi .gt_row_group_first td {
  border-top-width: 2px;
}

#mwlefoodfi .gt_row_group_first th {
  border-top-width: 2px;
}

#mwlefoodfi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mwlefoodfi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mwlefoodfi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mwlefoodfi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mwlefoodfi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mwlefoodfi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mwlefoodfi .gt_left {
  text-align: left;
}

#mwlefoodfi .gt_center {
  text-align: center;
}

#mwlefoodfi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mwlefoodfi .gt_font_normal {
  font-weight: normal;
}

#mwlefoodfi .gt_font_bold {
  font-weight: bold;
}

#mwlefoodfi .gt_font_italic {
  font-style: italic;
}

#mwlefoodfi .gt_super {
  font-size: 65%;
}

#mwlefoodfi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mwlefoodfi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mwlefoodfi .gt_indent_1 {
  text-indent: 5px;
}

#mwlefoodfi .gt_indent_2 {
  text-indent: 10px;
}

#mwlefoodfi .gt_indent_3 {
  text-indent: 15px;
}

#mwlefoodfi .gt_indent_4 {
  text-indent: 20px;
}

#mwlefoodfi .gt_indent_5 {
  text-indent: 25px;
}

#mwlefoodfi .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#mwlefoodfi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="stringr">stringr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="base-R">base R</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_detect(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>grepl(pattern, x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_dup(string, times)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>strrep(x, times)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_extract(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>regmatches(x, m = regexpr(pattern, text))</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_extract_all(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>regmatches(x, m = gregexpr(pattern, text))</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_length(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>nchar(x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_locate(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>regexpr(pattern, text)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_locate_all(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>gregexpr(pattern, text)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_match(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>regmatches(x, m = regexec(pattern, text))</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_order(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>order(...)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_replace(string, pattern, replacement)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>sub(pattern, replacement, x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_replace_all(string, pattern, replacement)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>gsub(pattern, replacement, x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_sort(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>sort(x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_split(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>strsplit(x, split)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_sub(string, start, end)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>substr(x, start, stop)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_subset(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>grep(pattern, x, value = TRUE)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_to_lower(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>tolower(x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_to_title(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>tools::toTitleCase(text)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_to_upper(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>toupper(x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_trim(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>trimws(x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_which(string, pattern)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>grep(pattern, x)</code></span></td>
</tr>
<tr>
<td headers="stringr" class="gt_row gt_left"><span class="gt_from_md"><code>str_wrap(string)</code></span></td>
<td headers="base R" class="gt_row gt_left"><span class="gt_from_md"><code>strwrap(x)</code></span></td>
</tr>
</tbody>
</table>
</div>
<p>Overall the main differences between base R and stringr are:</p>
<ol style="list-style-type: decimal">
<li><p>stringr functions start with <code>str_</code> prefix; base R
string functions have no consistent naming scheme.</p></li>
<li><p>The order of inputs is usually different between base R and
stringr. In base R, the <code>pattern</code> to match usually comes
first; in stringr, the <code>string</code> to manupulate always comes
first. This makes stringr easier to use in pipes, and with
<code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> or <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">purrr::map()</a></code>.</p></li>
<li><p>Functions in stringr tend to do less, where many of the string
processing functions in base R have multiple purposes.</p></li>
<li><p>The output and input of stringr functions has been carefully
designed. For example, the output of <code><a href="../reference/str_locate.html">str_locate()</a></code> can be
fed directly into <code><a href="../reference/str_sub.html">str_sub()</a></code>; the same is not true of
<code><a href="https://rdrr.io/r/base/grep.html" class="external-link">regexpr()</a></code> and <code><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr()</a></code>.</p></li>
<li><p>Base functions use arguments (like <code>perl</code>,
<code>fixed</code>, and <code>ignore.case</code>) to control how the
pattern is interpreted. To avoid dependence between arguments, stringr
instead uses helper functions (like <code><a href="../reference/modifiers.html">fixed()</a></code>,
<code><a href="../reference/modifiers.html">regex()</a></code>, and <code><a href="../reference/modifiers.html">coll()</a></code>).</p></li>
</ol>
<p>Next we’ll walk through each of the functions, noting the
similarities and important differences. These examples are adapted from
the stringr documentation and here they are contrasted with the
analogous base R operations.</p>
</div>
<div class="section level2">
<h2 id="detect-matches">Detect matches<a class="anchor" aria-label="anchor" href="#detect-matches"></a>
</h2>
<div class="section level3">
<h3 id="str_detect-detect-the-presence-or-absence-of-a-pattern-in-a-string">
<code>str_detect()</code>: Detect the presence or absence of a
pattern in a string<a class="anchor" aria-label="anchor" href="#str_detect-detect-the-presence-or-absence-of-a-pattern-in-a-string"></a>
</h3>
<p>Suppose you want to know whether each word in a vector of fruit names
contains an “a”.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fruit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"pear"</span>, <span class="st">"pineapple"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"a"</span>, x <span class="op">=</span> <span class="va">fruit</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE TRUE TRUE TRUE</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="va">fruit</span>, pattern <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE TRUE TRUE TRUE</span></span></code></pre></div>
<p>In base you would use <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code> (see the “l” and think
logical) while in stringr you use <code><a href="../reference/str_detect.html">str_detect()</a></code> (see the
verb “detect” and think of a yes/no action).</p>
</div>
<div class="section level3">
<h3 id="str_which-find-positions-matching-a-pattern">
<code>str_which()</code>: Find positions matching a pattern<a class="anchor" aria-label="anchor" href="#str_which-find-positions-matching-a-pattern"></a>
</h3>
<p>Now you want to identify the positions of the words in a vector of
fruit names that contain an “a”.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"a"</span>, x <span class="op">=</span> <span class="va">fruit</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_which.html">str_which</a></span><span class="op">(</span><span class="va">fruit</span>, pattern <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2 3 4</span></span></code></pre></div>
<p>In base you would use <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep()</a></code> while in stringr you use
<code><a href="../reference/str_which.html">str_which()</a></code> (by analogy to <code><a href="https://rdrr.io/r/base/which.html" class="external-link">which()</a></code>).</p>
</div>
<div class="section level3">
<h3 id="str_count-count-the-number-of-matches-in-a-string">
<code>str_count()</code>: Count the number of matches in a
string<a class="anchor" aria-label="anchor" href="#str_count-count-the-number-of-matches-in-a-string"></a>
</h3>
<p>How many “a”s are in each fruit?</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base </span></span>
<span><span class="va">loc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gregexpr</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"a"</span>, text <span class="op">=</span> <span class="va">fruit</span>, fixed <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">loc</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"match.length"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 3 1 1</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_count.html">str_count</a></span><span class="op">(</span><span class="va">fruit</span>, pattern <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 3 1 1</span></span></code></pre></div>
<p>This information can be gleaned from <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">gregexpr()</a></code> in base,
but you need to look at the <code>match.length</code> attribute as the
vector uses a length-1 integer vector (<code>-1</code>) to indicate no
match.</p>
</div>
<div class="section level3">
<h3 id="str_locate-locate-the-position-of-patterns-in-a-string">
<code>str_locate()</code>: Locate the position of patterns in a
string<a class="anchor" aria-label="anchor" href="#str_locate-locate-the-position-of-patterns-in-a-string"></a>
</h3>
<p>Within each fruit, where does the first “p” occur? Where are all of
the “p”s?</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fruit3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"papaya"</span>, <span class="st">"lime"</span>, <span class="st">"apple"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gregexpr</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"p"</span>, text <span class="op">=</span> <span class="va">fruit3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 3</span></span>
<span><span class="co">#&gt;  $ : int [1:2] 1 3</span></span>
<span><span class="co">#&gt;   ..- attr(*, "match.length")= int [1:2] 1 1</span></span>
<span><span class="co">#&gt;   ..- attr(*, "index.type")= chr "chars"</span></span>
<span><span class="co">#&gt;   ..- attr(*, "useBytes")= logi TRUE</span></span>
<span><span class="co">#&gt;  $ : int -1</span></span>
<span><span class="co">#&gt;   ..- attr(*, "match.length")= int -1</span></span>
<span><span class="co">#&gt;   ..- attr(*, "index.type")= chr "chars"</span></span>
<span><span class="co">#&gt;   ..- attr(*, "useBytes")= logi TRUE</span></span>
<span><span class="co">#&gt;  $ : int [1:2] 2 3</span></span>
<span><span class="co">#&gt;   ..- attr(*, "match.length")= int [1:2] 1 1</span></span>
<span><span class="co">#&gt;   ..- attr(*, "index.type")= chr "chars"</span></span>
<span><span class="co">#&gt;   ..- attr(*, "useBytes")= logi TRUE</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_locate.html">str_locate</a></span><span class="op">(</span><span class="va">fruit3</span>, pattern <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      start end</span></span>
<span><span class="co">#&gt; [1,]     1   1</span></span>
<span><span class="co">#&gt; [2,]    NA  NA</span></span>
<span><span class="co">#&gt; [3,]     2   2</span></span>
<span><span class="fu"><a href="../reference/str_locate.html">str_locate_all</a></span><span class="op">(</span><span class="va">fruit3</span>, pattern <span class="op">=</span> <span class="st">"p"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;      start end</span></span>
<span><span class="co">#&gt; [1,]     1   1</span></span>
<span><span class="co">#&gt; [2,]     3   3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;      start end</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt;      start end</span></span>
<span><span class="co">#&gt; [1,]     2   2</span></span>
<span><span class="co">#&gt; [2,]     3   3</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="subset-strings">Subset strings<a class="anchor" aria-label="anchor" href="#subset-strings"></a>
</h2>
<div class="section level3">
<h3 id="str_sub-extract-and-replace-substrings-from-a-character-vector">
<code>str_sub()</code>: Extract and replace substrings from a
character vector<a class="anchor" aria-label="anchor" href="#str_sub-extract-and-replace-substrings-from-a-character-vector"></a>
</h3>
<p>What if we want to grab part of a string?</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hw</span> <span class="op">&lt;-</span> <span class="st">"Hadley Wickham"</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">hw</span>, start <span class="op">=</span> <span class="fl">1</span>, stop <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substring</a></span><span class="op">(</span><span class="va">hw</span>, first <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] "Hadley Wickham"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">hw</span>, start <span class="op">=</span> <span class="fl">1</span>, end <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley"</span></span>
<span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">hw</span>, start <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley Wickham"</span></span>
<span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">hw</span>, end <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley"</span></span></code></pre></div>
<p>In base you could use <code><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr()</a></code> or
<code><a href="https://rdrr.io/r/base/substr.html" class="external-link">substring()</a></code>. The former requires both a start and stop of
the substring while the latter assumes the stop will be the end of the
string. The stringr version, <code><a href="../reference/str_sub.html">str_sub()</a></code> has the same
functionality, but also gives a default start value (the beginning of
the string). Both the base and stringr functions have the same order of
expected inputs.</p>
<p>In stringr you can use negative numbers to index from the right-hand
side string: -1 is the last letter, -2 is the second to last, and so
on.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">hw</span>, start <span class="op">=</span> <span class="fl">1</span>, end <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley Wickham"</span></span>
<span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">hw</span>, start <span class="op">=</span> <span class="op">-</span><span class="fl">5</span>, end <span class="op">=</span> <span class="op">-</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ckha"</span></span></code></pre></div>
<p>Both base R and stringr subset are vectorized over their parameters.
This means you can either choose the same subset across multiple strings
or specify different subsets for different strings.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">al</span> <span class="op">&lt;-</span> <span class="st">"Ada Lovelace"</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">hw</span>,<span class="va">al</span><span class="op">)</span>, start <span class="op">=</span> <span class="fl">1</span>, stop <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley" "Ada Lo"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">hw</span>,<span class="va">al</span><span class="op">)</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, stop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley"  "Ada Lov"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">hw</span>,<span class="va">al</span><span class="op">)</span>, start <span class="op">=</span> <span class="fl">1</span>, end <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley Wickham" "Ada Lovelace"</span></span>
<span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">hw</span>,<span class="va">al</span><span class="op">)</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span>, end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span>,<span class="op">-</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley Wickham" "Ada Lovelac"</span></span></code></pre></div>
<p>stringr will automatically recycle the first argument to the same
length as <code>start</code> and <code>stop</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">hw</span>, start <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley Wickham" "adley Wickham"  "dley Wickham"   "ley Wickham"   </span></span>
<span><span class="co">#&gt; [5] "ey Wickham"</span></span></code></pre></div>
<p>Whereas the base equivalent silently uses just the first value:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">hw</span>, start <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, stop <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Hadley Wickham"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_sub---subset-assignment">
<code>str_sub() &lt;-</code>: Subset assignment<a class="anchor" aria-label="anchor" href="#str_sub---subset-assignment"></a>
</h3>
<p><code><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr()</a></code> behaves in a surprising way when you replace a
substring with a different number of characters:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"ABCDEF"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"x"</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] "xBCDEF"</span></span></code></pre></div>
<p><code><a href="../reference/str_sub.html">str_sub()</a></code> does what you would expect:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># stringr</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"ABCDEF"</span></span>
<span><span class="fu"><a href="../reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"x"</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] "xDEF"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_subset-keep-strings-matching-a-pattern-or-find-positions">
<code>str_subset()</code>: Keep strings matching a pattern, or find
positions<a class="anchor" aria-label="anchor" href="#str_subset-keep-strings-matching-a-pattern-or-find-positions"></a>
</h3>
<p>We may want to retrieve strings that contain a pattern of
interest:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"g"</span>, x <span class="op">=</span> <span class="va">fruit</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_subset.html">str_subset</a></span><span class="op">(</span><span class="va">fruit</span>, pattern <span class="op">=</span> <span class="st">"g"</span><span class="op">)</span></span>
<span><span class="co">#&gt; character(0)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_extract-extract-matching-patterns-from-a-string">
<code>str_extract()</code>: Extract matching patterns from a
string<a class="anchor" aria-label="anchor" href="#str_extract-extract-matching-patterns-from-a-string"></a>
</h3>
<p>We may want to pick out certain patterns from a string, for example,
the digits in a shopping list:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">shopping_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apples x4"</span>, <span class="st">"bag of flour"</span>, <span class="st">"10"</span>, <span class="st">"milk x2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="va">matches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">regexpr</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"\\d+"</span>, text <span class="op">=</span> <span class="va">shopping_list</span><span class="op">)</span> <span class="co"># digits</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/regmatches.html" class="external-link">regmatches</a></span><span class="op">(</span><span class="va">shopping_list</span>, m <span class="op">=</span> <span class="va">matches</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "4"  "10" "2"</span></span>
<span></span>
<span><span class="va">matches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gregexpr</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="st">"[a-z]+"</span>, text <span class="op">=</span> <span class="va">shopping_list</span><span class="op">)</span> <span class="co"># words</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/regmatches.html" class="external-link">regmatches</a></span><span class="op">(</span><span class="va">shopping_list</span>, m <span class="op">=</span> <span class="va">matches</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "apples" "x"     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "bag"   "of"    "flour"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] "milk" "x"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_extract.html">str_extract</a></span><span class="op">(</span><span class="va">shopping_list</span>, pattern <span class="op">=</span> <span class="st">"\\d+"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; [1] "4"  NA   "10" "2"</span></span>
<span><span class="fu"><a href="../reference/str_extract.html">str_extract_all</a></span><span class="op">(</span><span class="va">shopping_list</span>, <span class="st">"[a-z]+"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "apples" "x"     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "bag"   "of"    "flour"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[4]]</span></span>
<span><span class="co">#&gt; [1] "milk" "x"</span></span></code></pre></div>
<p>Base R requires the combination of <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">regexpr()</a></code> with
<code><a href="https://rdrr.io/r/base/regmatches.html" class="external-link">regmatches()</a></code>; but note that the strings without matches are
dropped from the output. stringr provides <code><a href="../reference/str_extract.html">str_extract()</a></code> and
<code><a href="../reference/str_extract.html">str_extract_all()</a></code>, and the output is always the same length
as the input.</p>
</div>
<div class="section level3">
<h3 id="str_match-extract-matched-groups-from-a-string">
<code>str_match()</code>: Extract matched groups from a string<a class="anchor" aria-label="anchor" href="#str_match-extract-matched-groups-from-a-string"></a>
</h3>
<p>We may also want to extract groups from a string. Here I’m going to
use the scenario from Section 14.4.3 in <a href="https://r4ds.had.co.nz/strings.html" class="external-link">R for Data Science</a>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sentences</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The birch canoe slid on the smooth planks." </span></span>
<span><span class="co">#&gt; [2] "Glue the sheet to the dark blue background."</span></span>
<span><span class="co">#&gt; [3] "It's easy to tell the depth of a well."     </span></span>
<span><span class="co">#&gt; [4] "These days a chicken leg is a rare dish."   </span></span>
<span><span class="co">#&gt; [5] "Rice is often served in round bowls."       </span></span>
<span><span class="co">#&gt; [6] "The juice of lemons makes fine punch."</span></span>
<span><span class="va">noun</span> <span class="op">&lt;-</span> <span class="st">"([A]a|[Tt]he) ([^ ]+)"</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="va">matches</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">regexec</a></span><span class="op">(</span>pattern <span class="op">=</span> <span class="va">noun</span>, text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sentences</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="st">"rbind"</span>, <span class="fu"><a href="https://rdrr.io/r/base/regmatches.html" class="external-link">regmatches</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sentences</span><span class="op">)</span>, m <span class="op">=</span> <span class="va">matches</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]        [,2]  [,3]   </span></span>
<span><span class="co">#&gt; [1,] "The birch" "The" "birch"</span></span>
<span><span class="co">#&gt; [2,] "the sheet" "the" "sheet"</span></span>
<span><span class="co">#&gt; [3,] "the depth" "the" "depth"</span></span>
<span><span class="co">#&gt; [4,] "The juice" "The" "juice"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_match.html">str_match</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sentences</span><span class="op">)</span>, pattern <span class="op">=</span> <span class="va">noun</span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]        [,2]  [,3]   </span></span>
<span><span class="co">#&gt; [1,] "The birch" "The" "birch"</span></span>
<span><span class="co">#&gt; [2,] "the sheet" "the" "sheet"</span></span>
<span><span class="co">#&gt; [3,] "the depth" "the" "depth"</span></span>
<span><span class="co">#&gt; [4,] NA          NA    NA     </span></span>
<span><span class="co">#&gt; [5,] NA          NA    NA     </span></span>
<span><span class="co">#&gt; [6,] "The juice" "The" "juice"</span></span></code></pre></div>
<p>As for extracting the full match base R requires the combination of
two functions, and inputs with no matches are dropped from the
output.</p>
</div>
</div>
<div class="section level2">
<h2 id="manage-lengths">Manage lengths<a class="anchor" aria-label="anchor" href="#manage-lengths"></a>
</h2>
<div class="section level3">
<h3 id="str_length-the-length-of-a-string">
<code>str_length()</code>: The length of a string<a class="anchor" aria-label="anchor" href="#str_length-the-length-of-a-string"></a>
</h3>
<p>To determine the length of a string, base R uses <code><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar()</a></code>
(not to be confused with <code><a href="https://rdrr.io/r/base/length.html" class="external-link">length()</a></code> which gives the length of
vectors, etc.) while stringr uses <code><a href="../reference/str_length.html">str_length()</a></code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1</span></span></code></pre></div>
<p>There are some subtle differences between base and stringr here.
<code><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar()</a></code> requires a character vector, so it will return an
error if used on a factor. <code><a href="../reference/str_length.html">str_length()</a></code> can handle a factor
input.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="st">"abc"</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Error in nchar(factor("abc")): 'nchar()' requires a character vector</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_length.html">str_length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="st">"abc"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 3</span></span></code></pre></div>
<p>Note that “characters” is a poorly defined concept, and technically
both <code><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar()</a></code> and <code><a href="../reference/str_length.html">str_length()</a></code> returns the
number of code points. This is usually the same as what you’d consider
to be a charcter, but not always:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"\u00fc"</span>, <span class="st">"u\u0308"</span><span class="op">)</span></span>
<span><span class="va">x</span></span>
<span><span class="co">#&gt; [1] "ü" "ü"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2</span></span>
<span><span class="fu"><a href="../reference/str_length.html">str_length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1 2</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_pad-pad-a-string">
<code>str_pad()</code>: Pad a string<a class="anchor" aria-label="anchor" href="#str_pad-pad-a-string"></a>
</h3>
<p>To pad a string to a certain width, use stringr’s
<code><a href="../reference/str_pad.html">str_pad()</a></code>. In base R you could use <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code>,
but unlike <code><a href="../reference/str_pad.html">str_pad()</a></code>, <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code> has many other
functionalities.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%30s"</span>, <span class="st">"hadley"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "                        hadley"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%-30s"</span>, <span class="st">"hadley"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "hadley                        "</span></span>
<span><span class="co"># "both" is not as straightforward</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="st">"hadley"</span>, <span class="fl">30</span>, <span class="st">"left"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="st">"hadley"</span>, <span class="fl">30</span>, <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/str_pad.html">str_pad</a></span><span class="op">(</span><span class="st">"hadley"</span>, <span class="fl">30</span>, <span class="st">"both"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]                            </span></span>
<span><span class="co">#&gt; [1,] "                        hadley"</span></span>
<span><span class="co">#&gt; [2,] "hadley                        "</span></span>
<span><span class="co">#&gt; [3,] "            hadley            "</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_trunc-truncate-a-character-string">
<code>str_trunc()</code>: Truncate a character string<a class="anchor" aria-label="anchor" href="#str_trunc-truncate-a-character-string"></a>
</h3>
<p>The stringr package provides an easy way to truncate a character
string: <code><a href="../reference/str_trunc.html">str_trunc()</a></code>. Base R has no function to do this
directly.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"This string is moderately long"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/str_trunc.html">str_trunc</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">20</span>, <span class="st">"right"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/str_trunc.html">str_trunc</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">20</span>, <span class="st">"left"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/str_trunc.html">str_trunc</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">20</span>, <span class="st">"center"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;      [,1]                  </span></span>
<span><span class="co">#&gt; [1,] "This string is mo..."</span></span>
<span><span class="co">#&gt; [2,] "...s moderately long"</span></span>
<span><span class="co">#&gt; [3,] "This stri...ely long"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_trim-trim-whitespace-from-a-string">
<code>str_trim()</code>: Trim whitespace from a string<a class="anchor" aria-label="anchor" href="#str_trim-trim-whitespace-from-a-string"></a>
</h3>
<p>Similarly, stringr provides <code><a href="../reference/str_trim.html">str_trim()</a></code> to trim
whitespace from a string. This is analogous to base R’s
<code><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws()</a></code> added in R 3.3.0.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="st">" String with trailing and leading white space\t"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "String with trailing and leading white space"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="st">"\n\nString with trailing and leading white space\n\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "String with trailing and leading white space"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_trim.html">str_trim</a></span><span class="op">(</span><span class="st">" String with trailing and leading white space\t"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "String with trailing and leading white space"</span></span>
<span><span class="fu"><a href="../reference/str_trim.html">str_trim</a></span><span class="op">(</span><span class="st">"\n\nString with trailing and leading white space\n\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "String with trailing and leading white space"</span></span></code></pre></div>
<p>The stringr function <code><a href="../reference/str_trim.html">str_squish()</a></code> allows for extra
whitespace within a string to be trimmed (in contrast to
<code><a href="../reference/str_trim.html">str_trim()</a></code> which removes whitespace at the beginning and/or
end of string). In base R, one might take advantage of
<code><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub()</a></code> to accomplish the same effect.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_trim.html">str_squish</a></span><span class="op">(</span><span class="st">" String with trailing, middle,   and leading white space\t"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "String with trailing, middle, and leading white space"</span></span>
<span><span class="fu"><a href="../reference/str_trim.html">str_squish</a></span><span class="op">(</span><span class="st">"\n\nString with excess, trailing and leading white space\n\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "String with excess, trailing and leading white space"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_wrap-wrap-strings-into-nicely-formatted-paragraphs">
<code>str_wrap()</code>: Wrap strings into nicely formatted
paragraphs<a class="anchor" aria-label="anchor" href="#str_wrap-wrap-strings-into-nicely-formatted-paragraphs"></a>
</h3>
<p><code><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap()</a></code> and <code><a href="../reference/str_wrap.html">str_wrap()</a></code> use different
algorithms. <code><a href="../reference/str_wrap.html">str_wrap()</a></code> uses the famous <a href="http://litherum.blogspot.com/2015/07/knuth-plass-line-breaking-algorithm.html" class="external-link">Knuth-Plass
algorithm</a>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gettysburg</span> <span class="op">&lt;-</span> <span class="st">"Four score and seven years ago our fathers brought forth on this continent, a new nation, conceived in Liberty, and dedicated to the proposition that all men are created equal."</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">gettysburg</span>, width <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Four score and seven years ago our fathers brought forth on</span></span>
<span><span class="co">#&gt; this continent, a new nation, conceived in Liberty, and</span></span>
<span><span class="co">#&gt; dedicated to the proposition that all men are created</span></span>
<span><span class="co">#&gt; equal.</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="../reference/str_wrap.html">str_wrap</a></span><span class="op">(</span><span class="va">gettysburg</span>, width <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Four score and seven years ago our fathers brought forth</span></span>
<span><span class="co">#&gt; on this continent, a new nation, conceived in Liberty, and</span></span>
<span><span class="co">#&gt; dedicated to the proposition that all men are created equal.</span></span></code></pre></div>
<p>Note that <code><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap()</a></code> returns a character vector with one
element for each line; <code><a href="../reference/str_wrap.html">str_wrap()</a></code> returns a single string
containing line breaks.</p>
</div>
</div>
<div class="section level2">
<h2 id="mutate-strings">Mutate strings<a class="anchor" aria-label="anchor" href="#mutate-strings"></a>
</h2>
<div class="section level3">
<h3 id="str_replace-replace-matched-patterns-in-a-string">
<code>str_replace()</code>: Replace matched patterns in a
string<a class="anchor" aria-label="anchor" href="#str_replace-replace-matched-patterns-in-a-string"></a>
</h3>
<p>To replace certain patterns within a string, stringr provides the
functions <code><a href="../reference/str_replace.html">str_replace()</a></code> and <code><a href="../reference/str_replace.html">str_replace_all()</a></code>.
The base R equivalents are <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub()</a></code> and <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub()</a></code>.
Note the difference in default input order again.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fruits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"pear"</span>, <span class="st">"pineapple"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">"[aeiou]"</span>, <span class="st">"-"</span>, <span class="va">fruits</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "-pple"     "b-nana"    "p-ar"      "p-neapple"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"[aeiou]"</span>, <span class="st">"-"</span>, <span class="va">fruits</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "-ppl-"     "b-n-n-"    "p--r"      "p-n--ppl-"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_replace.html">str_replace</a></span><span class="op">(</span><span class="va">fruits</span>, <span class="st">"[aeiou]"</span>, <span class="st">"-"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "-pple"     "b-nana"    "p-ar"      "p-neapple"</span></span>
<span><span class="fu"><a href="../reference/str_replace.html">str_replace_all</a></span><span class="op">(</span><span class="va">fruits</span>, <span class="st">"[aeiou]"</span>, <span class="st">"-"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "-ppl-"     "b-n-n-"    "p--r"      "p-n--ppl-"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="case-convert-case-of-a-string">case: Convert case of a string<a class="anchor" aria-label="anchor" href="#case-convert-case-of-a-string"></a>
</h3>
<p>Both stringr and base R have functions to convert to upper and lower
case. Title case is also provided in stringr.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dog</span> <span class="op">&lt;-</span> <span class="st">"The quick brown dog"</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper</a></span><span class="op">(</span><span class="va">dog</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "THE QUICK BROWN DOG"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">dog</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "the quick brown dog"</span></span>
<span><span class="fu">tools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tools/toTitleCase.html" class="external-link">toTitleCase</a></span><span class="op">(</span><span class="va">dog</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The Quick Brown Dog"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_upper</a></span><span class="op">(</span><span class="va">dog</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "THE QUICK BROWN DOG"</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_lower</a></span><span class="op">(</span><span class="va">dog</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "the quick brown dog"</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_title</a></span><span class="op">(</span><span class="va">dog</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "The Quick Brown Dog"</span></span></code></pre></div>
<p>In stringr we can control the locale, while in base R locale
distinctions are controlled with global variables. Therefore, the output
of your base R code may vary across different computers with different
global settings.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_upper</a></span><span class="op">(</span><span class="st">"i"</span><span class="op">)</span> <span class="co"># English</span></span>
<span><span class="co">#&gt; [1] "I"</span></span>
<span><span class="fu"><a href="../reference/case.html">str_to_upper</a></span><span class="op">(</span><span class="st">"i"</span>, locale <span class="op">=</span> <span class="st">"tr"</span><span class="op">)</span> <span class="co"># Turkish</span></span>
<span><span class="co">#&gt; [1] "İ"</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="join-and-split">Join and split<a class="anchor" aria-label="anchor" href="#join-and-split"></a>
</h2>
<div class="section level3">
<h3 id="str_flatten-flatten-a-string">
<code>str_flatten()</code>: Flatten a string<a class="anchor" aria-label="anchor" href="#str_flatten-flatten-a-string"></a>
</h3>
<p>If we want to take elements of a string vector and collapse them to a
single string we can use the <code>collapse</code> argument in
<code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste()</a></code> or use stringr’s <code><a href="../reference/str_flatten.html">str_flatten()</a></code>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">letters</span>, collapse <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a-b-c-d-e-f-g-h-i-j-k-l-m-n-o-p-q-r-s-t-u-v-w-x-y-z"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_flatten.html">str_flatten</a></span><span class="op">(</span><span class="va">letters</span>, collapse <span class="op">=</span> <span class="st">"-"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a-b-c-d-e-f-g-h-i-j-k-l-m-n-o-p-q-r-s-t-u-v-w-x-y-z"</span></span></code></pre></div>
<p>The advantage of <code><a href="../reference/str_flatten.html">str_flatten()</a></code> is that it always returns
a vector the same length as its input; to predict the return length of
<code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste()</a></code> you must carefully read all arguments.</p>
</div>
<div class="section level3">
<h3 id="str_dup-duplicate-strings-within-a-character-vector">
<code>str_dup()</code>: duplicate strings within a character
vector<a class="anchor" aria-label="anchor" href="#str_dup-duplicate-strings-within-a-character-vector"></a>
</h3>
<p>To duplicate strings within a character vector use
<code><a href="https://rdrr.io/r/base/strrep.html" class="external-link">strrep()</a></code> (in R 3.3.0 or greater) or
<code><a href="../reference/str_dup.html">str_dup()</a></code>:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fruit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"pear"</span>, <span class="st">"banana"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/strrep.html" class="external-link">strrep</a></span><span class="op">(</span><span class="va">fruit</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "appleapple"   "pearpear"     "bananabanana"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/strrep.html" class="external-link">strrep</a></span><span class="op">(</span><span class="va">fruit</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "apple"              "pearpear"           "bananabananabanana"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_dup.html">str_dup</a></span><span class="op">(</span><span class="va">fruit</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "appleapple"   "pearpear"     "bananabanana"</span></span>
<span><span class="fu"><a href="../reference/str_dup.html">str_dup</a></span><span class="op">(</span><span class="va">fruit</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "apple"              "pearpear"           "bananabananabanana"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_split-split-up-a-string-into-pieces">
<code>str_split()</code>: Split up a string into pieces<a class="anchor" aria-label="anchor" href="#str_split-split-up-a-string-into-pieces"></a>
</h3>
<p>To split a string into pieces with breaks based on a particular
pattern match stringr uses <code><a href="../reference/str_split.html">str_split()</a></code> and base R uses
<code><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit()</a></code>. Unlike most other functions,
<code><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit()</a></code> starts with the character vector to modify.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fruits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"apples and oranges and pears and bananas"</span>,</span>
<span>  <span class="st">"pineapples and mangos and guavas"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">fruits</span>, <span class="st">" and "</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "apples"  "oranges" "pears"   "bananas"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "pineapples" "mangos"     "guavas"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_split.html">str_split</a></span><span class="op">(</span><span class="va">fruits</span>, <span class="st">" and "</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "apples"  "oranges" "pears"   "bananas"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "pineapples" "mangos"     "guavas"</span></span></code></pre></div>
<p>The stringr package’s <code><a href="../reference/str_split.html">str_split()</a></code> allows for more
control over the split, including restricting the number of possible
matches.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_split.html">str_split</a></span><span class="op">(</span><span class="va">fruits</span>, <span class="st">" and "</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "apples"            "oranges"           "pears and bananas"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "pineapples" "mangos"     "guavas"</span></span>
<span><span class="fu"><a href="../reference/str_split.html">str_split</a></span><span class="op">(</span><span class="va">fruits</span>, <span class="st">" and "</span>, n <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; [1] "apples"                        "oranges and pears and bananas"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; [1] "pineapples"        "mangos and guavas"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="str_glue-interpolate-strings">
<code>str_glue()</code>: Interpolate strings<a class="anchor" aria-label="anchor" href="#str_glue-interpolate-strings"></a>
</h3>
<p>It’s often useful to interpolate varying values into a fixed string.
In base R, you can use <code><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf()</a></code> for this purpose; stringr
provides a wrapper for the more general purpose <a href="https://glue.tidyverse.org" class="external-link">glue</a> package.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"Fred"</span></span>
<span><span class="va">age</span> <span class="op">&lt;-</span> <span class="fl">50</span></span>
<span><span class="va">anniversary</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"1991-10-12"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span></span>
<span>  <span class="st">"My name is %s my age next year is %s and my anniversary is %s."</span>, </span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">age</span> <span class="op">+</span> <span class="fl">1</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">anniversary</span>, <span class="st">"%A, %B %d, %Y"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "My name is Fred my age next year is 51 and my anniversary is Saturday, October 12, 1991."</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_glue.html">str_glue</a></span><span class="op">(</span></span>
<span>  <span class="st">"My name is {name}, "</span>,</span>
<span>  <span class="st">"my age next year is {age + 1}, "</span>,</span>
<span>  <span class="st">"and my anniversary is {format(anniversary, '%A, %B %d, %Y')}."</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; My name is Fred, my age next year is 51, and my anniversary is Saturday, October 12, 1991.</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="order-strings">Order strings<a class="anchor" aria-label="anchor" href="#order-strings"></a>
</h2>
<div class="section level3">
<h3 id="str_order-order-or-sort-a-character-vector">
<code>str_order()</code>: Order or sort a character vector<a class="anchor" aria-label="anchor" href="#str_order-order-or-sort-a-character-vector"></a>
</h3>
<p>Both base R and stringr have separate functions to order and sort
strings.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># base</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22</span></span>
<span><span class="co">#&gt; [23] 23 24 25 26</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p"</span></span>
<span><span class="co">#&gt; [17] "q" "r" "s" "t" "u" "v" "w" "x" "y" "z"</span></span>
<span></span>
<span><span class="co"># stringr</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_order</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22</span></span>
<span><span class="co">#&gt; [23] 23 24 25 26</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">letters</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p"</span></span>
<span><span class="co">#&gt; [17] "q" "r" "s" "t" "u" "v" "w" "x" "y" "z"</span></span></code></pre></div>
<p>Some options in <code><a href="../reference/str_order.html">str_order()</a></code> and <code><a href="../reference/str_order.html">str_sort()</a></code>
don’t have analogous base R options. For example, the stringr functions
have a <code>locale</code> argument to control how to order or sort. In
base R the locale is a global setting, so the outputs of
<code><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort()</a></code> and <code><a href="https://rdrr.io/r/base/order.html" class="external-link">order()</a></code> may differ across different
computers. For example, in the Norwegian alphabet, å comes after z:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"å"</span>, <span class="st">"a"</span>, <span class="st">"z"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "å" "z"</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">x</span>, locale <span class="op">=</span> <span class="st">"no"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "a" "z" "å"</span></span></code></pre></div>
<p>The stringr functions also have a <code>numeric</code> argument to
sort digits numerically instead of treating them as strings.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># stringr</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"100a10"</span>, <span class="st">"100a5"</span>, <span class="st">"2b"</span>, <span class="st">"2a"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "100a10" "100a5"  "2a"     "2b"</span></span>
<span><span class="fu"><a href="../reference/str_order.html">str_sort</a></span><span class="op">(</span><span class="va">x</span>, numeric <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "2a"     "2b"     "100a5"  "100a10"</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer>
</body>
</html>
